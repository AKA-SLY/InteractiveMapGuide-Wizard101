import { formatLibraryFileName, libraryPath } from "../lib/library";
import { type Character } from "../types";
import { charactersFromJson } from "./json/charactersFromJson";
import { mergeByName } from "./util/merge";

const npcWiki = (name: string) =>
  `https://www.wizard101central.com/wiki/NPC:${encodeURIComponent(name.replace(/\s+/g, "_"))}`;
const characterEntries: Character[] = [
  {
    name: "Merle Ambrose",
    role: "Headmaster",
    world: "Wizard City",
    location: "Ravenwood",
    school: "Balance",
    rank: "Legendary Wizard",
    classification: ["Trainer", "Quest Giver", "Support"],
    tip: "Talk to him to move the main story forward.",
    image: libraryPath(
      "World Based NPC/Avalon NPC",
      "Merle Ambrose 7",
      "jpg",
      formatLibraryFileName,
    ),
    wikiUrl: npcWiki("Merle Ambrose"),
  },
  {
    name: "Gamma",
    role: "Guide",
    world: "Wizard City",
    location: "Ravenwood",
    school: "Balance",
    rank: "Owl Courier",
    classification: ["Support"],
    tip: "Helps explain new mechanics for brand-new wizards.",
    image: libraryPath(
      "World Based NPC/MooShu NPC",
      "Gamma 6",
      "jpg",
      formatLibraryFileName,
    ),
    wikiUrl: npcWiki("Gamma"),
  },
  {
    name: "Eloise Merryweather",
    role: "Vendor",
    world: "Multiple",
    location: "The Commons",
    classification: ["Vendor", "Quest Giver"],
    tip: "Sells stitching and collects world-specific crafts.",
    image: libraryPath(
      "World Based NPC/Krokotopia NPC",
      "Eloise Merryweather 3",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Dworgyn",
    role: "Trainer",
    world: "Wizard City",
    location: "Nightside",
    school: "Death",
    rank: "Assistant",
    classification: ["Trainer", "Professor"],
    tip: "Unlocks Feint and other key Death utility spells.",
    image: libraryPath(
      "World Based NPC/MooShu NPC",
      "Dworgyn 3",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Dalia Falmea",
    role: "Fire Professor",
    world: "Wizard City",
    location: "Fire School, Ravenwood",
    school: "Fire",
    rank: "Professor",
    classification: ["Professor", "Trainer"],
    tip: "Grants core Fire spells as you level and visit class.",
    image: libraryPath(
      "World Based NPC/Avalon NPC",
      "Dalia Falmea",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Lydia Greyrose",
    role: "Ice Professor",
    world: "Wizard City",
    location: "Ice School, Ravenwood",
    school: "Ice",
    rank: "Professor",
    classification: ["Professor", "Trainer"],
    tip: "Returns often for Tower Shield and powerful Ice blades.",
    image: libraryPath(
      "World Based NPC/Avalon NPC",
      "Lydia Greyrose",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Cyrus Drake",
    role: "Myth Professor",
    world: "Wizard City",
    location: "Myth School, Ravenwood",
    school: "Myth",
    rank: "Professor",
    classification: ["Professor", "Trainer"],
    tip: "Teaches Minotaur, Orthrus, and other double-hit spells.",
    image: libraryPath(
      "World Based NPC/Dragonspyre NPC",
      "Cyrus Drake 4",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Halston Balestrom",
    role: "Storm Professor",
    world: "Wizard City",
    location: "Storm School, Ravenwood",
    school: "Storm",
    rank: "Professor",
    classification: ["Professor", "Trainer"],
    tip: "Check in for Tempest and Storm Lord as you rank up.",
    image: libraryPath(
      "World Based NPC/Marleybone NPC",
      "Halston Balestrom 4",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Moolinda Wu",
    role: "Life Professor",
    world: "Wizard City",
    location: "Life School, Ravenwood",
    school: "Life",
    rank: "Professor",
    classification: ["Professor", "Trainer"],
    tip: "Visit often for heals and Life blades that boost every hit.",
    image: libraryPath(
      "World Based NPC/MooShu NPC",
      "Moolinda Wu",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Malorn Ashthorn",
    role: "Student",
    world: "Wizard City",
    location: "Nightside",
    classification: ["Support"],
    tip: "Death apprentice who introduces underground quests.",
    image: libraryPath(
      "World Based NPC/MooShu NPC",
      "Malorn Ashthorn",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Arthur Wethersfield",
    role: "Balance Professor",
    world: "Wizard City",
    location: "Balance School, Ravenwood",
    classification: ["Professor", "Trainer"],
    tip: "Early Balance teacher before you sail to Krokotopia.",
    image: libraryPath(
      "World Based NPC/Avalon NPC",
      "Arthur Wethersfield",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Alhazred",
    role: "Balance Master",
    world: "Krokotopia",
    location: "Krokosphinx",
    classification: ["Trainer", "Professor"],
    tip: "Offers advanced Balance spells once you reach Krokotopia.",
    image: libraryPath(
      "World Based NPC/Krokotopia NPC",
      "Alhazred",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Niles the Balance Tree",
    role: "Trainer",
    world: "Krokotopia",
    location: "Krokosphinx",
    classification: ["Trainer"],
    tip: "Visit for key cross-school blades and traps.",
    image: libraryPath(
      "World Based NPC/Krokotopia NPC",
      "Niles",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Professor Baelstrom",
    role: "Storm Master",
    world: "Celestia",
    location: "Survey Camp",
    classification: ["Professor", "Trainer"],
    tip: "Hands out Critical-focused Storm spells in Celestia.",
    image: libraryPath(
      "World Based NPC/Marleybone NPC",
      "Halston Balestrom 4",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Gloria Krendell",
    role: "Quest Giver",
    world: "Wizard City",
    location: "Olde Town",
    classification: ["Quest Giver", "Vendor"],
    tip: "Collects crafting badges and starts the crafting questline.",
    image: libraryPath(
      "World Based NPC/Avalon NPC",
      "Gloria Krendell",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Prospector Zeke",
    role: "Explorer",
    world: "Multiple",
    location: "The Commons",
    classification: ["Quest Giver", "Support"],
    tip: "Find his hidden item collections each world for training points.",
    image: libraryPath(
      "World Based NPC/Prospecter Zeke Images",
      "Prospector Zeke",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Diego the Duelmaster",
    role: "Arena Master",
    world: "Wizard City",
    location: "Pet Pavilion",
    classification: ["Trainer", "Support"],
    tip: "Visit for PvP tutorials and tournament registration.",
    image: libraryPath(
      "World Based NPC/Krokotopia NPC",
      "Arena Master",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Molly Earthsong",
    role: "Healer",
    world: "Avalon",
    location: "Caliburn",
    classification: ["Support"],
    tip: "Provides potion and healing services during Avalon’s story.",
    image: libraryPath(
      "World Based NPC/Avalon NPC",
      "Molly Earthsong",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Sir Pike Del Lago",
    role: "Quest Giver",
    world: "Azteca",
    location: "Three Points",
    classification: ["Quest Giver"],
    tip: "Sends you to repair the World Gate and meet the Aztecosaurs.",
    image: libraryPath(
      "World Based NPC/Avalon NPC",
      "Sir Pike Del Lago",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "King Artorius",
    role: "Ally",
    world: "Avalon",
    location: "High Road",
    classification: ["Ally", "Support"],
    tip: "Guides you through restoring Avalon and grants a spiral key.",
    image: libraryPath(
      "World Based NPC/Avalon NPC",
      "King Artorius",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Morganthe",
    role: "Shadow Queen",
    world: "Khrysalis",
    location: "Shadow Palace",
    classification: ["Boss", "Dropping Loot"],
    loot: ["Morganthe amulets", "Shadow enchantments"],
    tip: "Major antagonist—prepare shields and dispels for her battles.",
    image: libraryPath(
      "World Based NPC/Azteca NPC",
      "Morganthe 7",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Old Cob",
    role: "Narrator",
    world: "Khrysalis",
    location: "Bastion",
    classification: ["Support"],
    tip: "Sets up the endgame arc leading into Polaris and Mirage.",
    image: libraryPath(
      "World Based NPC/Celestia NPC",
      "Old Cob",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Captain Avery",
    role: "Skyfarer",
    world: "Marleybone",
    location: "Regent's Square",
    classification: ["Quest Giver", "Support"],
    tip: "Helps you commandeer airship routes between islands.",
    image: libraryPath(
      "World Based NPC/Marleybone NPC",
      "Captain Avery",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Sherlock Bones",
    role: "Detective",
    world: "Marleybone",
    location: "Scotland Yard",
    classification: ["Support", "Quest Giver"],
    tip: "Solves cases like Meowiarty—expect street fights and clues.",
    image: libraryPath(
      "World Based NPC/Marleybone NPC",
      "Sherlock Bones",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Shiruku Neko",
    role: "Vendor",
    world: "Mooshu",
    location: "Hametsu Village",
    classification: ["Vendor"],
    tip: "Sells crafted gear recipes for the Hametsu zone.",
    image: libraryPath(
      "World Based NPC/MooShu NPC",
      "Shiruku Neko",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Shunzang",
    role: "Monk",
    world: "Mooshu",
    location: "Jade Palace",
    classification: ["Support", "Quest Giver"],
    tip: "Offers side quests focused on balance and harmony.",
    image: libraryPath(
      "World Based NPC/MooShu NPC",
      "Shunzang",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Zaltanna the MirrorMask",
    role: "Shadow Dealer",
    world: "Khrysalis",
    location: "Bastion",
    classification: ["Vendor", "Support"],
    tip: "Teaches Shadow-enhanced spells once you unlock the school.",
    image: libraryPath(
      "World Based NPC/Zafaria NPC",
      "Zaltanna the MirrorMask",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Ponce de Gibbon",
    role: "Explorer",
    world: "Azteca",
    location: "Saltmeadow Swamp",
    classification: ["Boss", "Dropping Loot"],
    loot: ["Amulets", "Pet jewels"],
    tip: "Quest chain includes dueling hordes of White Razors.",
    image: libraryPath(
      "World Based NPC/Azteca NPC",
      "Ponce de Gibbon",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Balthazar Dragonthorn",
    role: "Trainer",
    world: "Dragonspyre",
    location: "The Basilica",
    classification: ["Trainer"],
    tip: "Sells damage-enhancing amulets and advanced reagents.",
    image: libraryPath(
      "World Based NPC/Dragonspyre NPC",
      "Balthazar Dragonthorn",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Annie Shutterbug",
    role: "Photographer",
    world: "Wizard City",
    location: "The Commons",
    classification: ["Quest Giver", "Support"],
    tip: "Starts the Photomancy quest and daily picture challenges.",
    image: libraryPath(
      "World Based NPC/Avalon NPC",
      "Annie Shutterbug",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Abner K. Doodle",
    role: "Announcer",
    world: "Wizard City",
    location: "The Commons",
    classification: ["Support"],
    tip: "Provides event news and rotating holiday alerts.",
    image: libraryPath(
      "World Based NPC/Marleybone NPC",
      "Abner K Doodle",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Ivan the Great",
    role: "Warrior",
    world: "Polaris",
    location: "Walruskberg",
    classification: ["Ally"],
    tip: "Ally during Rasputin’s siege—brings strong Ice hits.",
    image: libraryPath(
      "World Based NPC/Krokotopia NPC",
      "Ivan the Great 27",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Qhoya",
    role: "Spirit Guide",
    world: "Zafaria",
    location: "Baobab Crossroads",
    classification: ["Support", "Quest Giver"],
    tip: "Helps navigate Elephant Graveyard trials and lore.",
    image: libraryPath(
      "World Based NPC/Zafaria NPC",
      "Qhoya",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Istar",
    role: "Moon Instructor",
    world: "Celestia",
    location: "Survey Camp",
    classification: ["Trainer", "Professor"],
    tip: "Introduces Moon school polymorphs and Astral basics.",
    image: libraryPath(
      "World Based NPC/Krokotopia NPC",
      "Istar 27",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Khaba the Weaver",
    role: "Archivist",
    world: "Mirage",
    location: "Aggrobah",
    classification: ["Support", "Quest Giver"],
    tip: "Guides you through Mirage’s vaults and shadowy bosses.",
    image: libraryPath(
      "World Based NPC/Krokotopia NPC",
      "General Khaba",
      "jpg",
      formatLibraryFileName,
    ),
  },
  {
    name: "Mallory",
    role: "Worldsmith",
    world: "Karamelle",
    location: "Karamelle City",
    classification: ["Support", "Quest Giver"],
    tip: "Explains how the spiral’s newest world connects to old foes.",
    image: libraryPath(
      "World Based NPC/Avalon NPC",
      "Mallory",
      "jpg",
      formatLibraryFileName,
    ),
  },
];

export const characters: Character[] = mergeByName<Character>(
  characterEntries.map((npc) => ({
    ...npc,
    wikiUrl: npc.wikiUrl ?? npcWiki(npc.name),
  })),
  charactersFromJson,
);
